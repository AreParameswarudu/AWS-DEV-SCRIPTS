# SCRIPTING:
1. Shell / bash
2. Python


## What is scripting:
	
A script is a file that contains a series of Linux commands that are to be executed in the same order line by line.
By saving these commands in a script, we can repeat the same sequence of steps multiple times and execute then by running the script.

	
By-default, scripting in Linux uses shell to run the scripts.
But, we can use Bash to run the same.

Shell and Bash in scripting are used interchangeably but yes they have subtle difference.
Shell script directly starts with series of commands, 
Bash script starts with #!/bin/bash (shebang) followed by series of commands.


To determine the type of shell that our system uses, 
```
ps
```

	
To know the bash shell path, we can use
```
 which bash
```
	
# Scripting
	
We basically uses the extension of .sh for scripts but without the extension is also fine.
 

Example script titled as `print.sh`
```
#!/bin/bash
echo "Today is " `data`

echo -e "\n enter the path to directory"
read the_path

echo -e "\n your path has following files and directories"
ls $the_path
```

## Running/executing a script.
1. We can use/ mention  which shell we are using,   
ex: `sh script.sh`, or `bash script.sh` if we have included `shebang` in the script.

2. We dont need to mention the shell,   
ex: `./script.sh`


## 1. Comments in scripting 

To enhance the readability.
  
This line starts with `#` so it is treated as comment

## 2. Variables  
Let us store data.

```
name=param
```
created a variable as name and assigned value to it.

To call the variable,
```
$name
```

### conventions for variable name:

* can start with letter or _  and not any other
* are case sensitive
* con not contain special characters
* not to use ( if, else, then, etc ) keywords.

## 3. Inputs and outputs  in scripting   
To give the user the ability to pass info.
	
### 3.1   read command

```
read
```
It will give the users the ability to pass the details/inputs to the script.
	
ex:
```
#!/bin/bash
echo "what is your name"
read entered_name
echo -e "\n welcome to the scripting " $entered_name
```

### 3.2. Reading formt the file
	
ex:
```
while read line
do
	echo line
done < input.txt
```

reads each line form the input.txt file and prints each line.

### 3.3  command line arguments.

In bash scripting, 
* `$1` represents 1st argument passed.  
* `$2` represents the 2nd argument passed and so on.


create script named greetings.sh
				
```
#!/bin/bash
echo "Hello" $1
```

while executing the script, give the argument as well.
`sh greetings.sh Param`  
Hello Param, will be printed.

### 3.4 Writing to file

```
echo "Add this line to text file" > output.txt
```

```
echo "Append this line to text file" >> output.txt
```

`>` ----- to rewrite the actual file.  
`>>` ----- append at the end of file.

### 3.5 Redirecting file

```
ls > file.txt
```

		
## 4. ( if/ else  )  Conditional statements :
		
Template:

```
if  ( condition );
then
	action/statement/work/print
elif ( condition ); 
then 
	action/statement/work/print
else
	do this by default
fi
```	
		

### 4.1 Logical operations  inside the condition.
	
`-a`   ===== and   
`-lt`  ===== less than  
`-gt` ===== greater than  
`-o`  =====	or   

ex: 
```
if  ($b -gt 60 -a $c -lt 20 );  then
			echo "Your on right track"
```

		
## 5. Looping and branching in Bash       
https://www.freecodecamp.org/news/bash-scripting-tutorial-linux-shell-script-and-command-line-for-beginners/
	
### 5.1 While loop
While loops check for a condition and loop untill the condition remains `true`. We need to provide a counter statement that increment the counter to contrl loop execution.

Template:
```
#!/bin/bash 

#initiating the counter
counter = 1

while [[ condition ]]; do
	statement/action/print

	#incrementt the counter
	(( counter +=1 ))
done 
```

EX:  `script.sh`
```
#!/bin/bash 

i = 1

while [[ $i -le 10 ]]; do
	echo "$i"

	[[ $i +=1 ]]

done
```

In the above example, `(( i+=1 ))` is the counter statement that increments the value of `i`. The loop will run exactly 10 times.

		
### 5.2 For loop
The `for` loop same as the `while` loop iterates for a defined iterable levels but it doesnot require a counter. `for` loop by default will incrememt the counter by 1.   

Template:
```
#!/bin/bash

for <variable_name> in <list_of_variables>; do
	echo "$<variable_name>
done
```

In the cbove example, `{1..5}` defines the is the iterable boundaries. The default incremental count is 1.   
But we can change the incremental counter, ex: `{1..10..2}` in this example, counter is +2.

The iterables/list of items can be,   
* Space seprated list of values like `for fruit in apple oragne grape; do` etc.  
* A range generated by brace expansion ex: `for i in {1..5}; do`,  
* The output of a command ex:  `for file in *.txt; do ....`,  ` for user in $(cut -d: f1 /etc/passwd); do`.


### 5.3 case statements
Case statment are used to compare a given value aganist a list of patterns and execute a block of code based on the first pattern that matches.

Template:
```
case expression in 
	pattern1)
		#code to execute if expression matches pattern
		;;
	pattern2)
		#code to execute if expression matches pattern
		;;
	pattern3)
		#code to execute if expression matches pattern
		;;
esac
```
It offers a more sturctured and readable alternative to nested `if/elif/else` statement when dealing with multiple conditions on a single value.  

EX:

```
#!/bin/bash

echo "Enter your department code"
read Department

case "$Department" in
	"CSE")
		echo "You are a Computer Science student"
		;;
	"ECE")
		echo "You are a Electronics student"
		;;
	"EEE")
		echo "You are a Electrical strudent"
		;;
	*)
		echo "Provide a valid department name 
esac
```



## 6. Scheduling scripts using cron jobs.

Cron is used to schedule a job/script / any executable or runnable file automatically/automated

	
Crontab utility is used to add and edit the cron jobs
`crontab -l`     ---> lists all the scheduled scripts for a particular user.
	
`crontab -e`    ---> to add or edit the cron jobs

	
	 
Cron job example
```
*  *  *  *   sh /path/to/the/script
```

	
## 7. debugging and trouble shooting.

### 7.1   `set -x`
	
If we want to script to show every command to print before it is executed, 
then we need to include this  command  at the very beginning of the script ( after the shebang)

ex:
```
#!/bin/bash
set  -x
#list of the scripts to execute
```
### 7.2  `set -e`
				
With use of this command after the shebang, 
the scripts exits immediately after any error or script fails 

ex:
```
#!/bin/bash
set -e
#list of commands to execute
```
### 7.3 Trouble shooting cron by  verifying the logs
```/var/log/syslog```
			
path to find the cron logs for ubuntu/Debian based Linux.

	
	
		
	
